sequenceDiagram
    participant U as üë§ User
    participant F as üñ•Ô∏è Frontend
    participant K as üîê Keycloak
    participant A as üöÄ API
    participant D as üíæ Database

    %% D√©finition des styles
    rect rgb(240, 248, 255)
        Note over U,D: Flux d'authentification et d'autorisation Keycloak
    end

    %% √âtape 1: Acc√®s initial
    U->>+F: Acc√®de √† l'application
    activate U
    rect rgb(230, 240, 255)
        F->>+K: Redirection vers login
        K->>U: Page de connexion
        U->>K: Credentials
        K-->>F: Access Token + Refresh Token
        deactivate K
    end

    %% √âtape 2: Appel API
    rect rgb(255, 240, 245)
        F->>+A: Requ√™te avec Access Token
        A->>K: Validation du token
        K-->>A: Token valid√©
    end

    %% √âtape 3: Acc√®s donn√©es
    rect rgb(240, 255, 240)
        A->>+D: Requ√™te de donn√©es
        D-->>-A: Donn√©es
        A-->>F: R√©ponse
        deactivate A
    end

    %% √âtape finale
    F-->>-U: Affichage des donn√©es
    deactivate U

    %% Notes explicatives
    Note over U,F: Phase d'authentification utilisateur
    Note over F,K: Gestion des tokens
    Note over A,D: Acc√®s aux donn√©es s√©curis√©
